<!DOCTYPE html>
<html>

<head>
  <title>MapHacks</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <meta charset="utf-8">
  <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500">
  <link href="https://fonts.googleapis.com/css?family=Kanit|Ubuntu+Mono" rel="stylesheet">
  <link type="text/css" rel="stylesheet" href="style.css" />
  <!--<link href='https://www.mapbox.com/base/latest/base.css' rel='stylesheet' /> -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76366601-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-76366601-2');
  </script>
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />
</head>

<body>

  <div id="map"></div>

  <a href="https://github.com/maphacks" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>
  <style>
    .github-corner:hover .octo-arm {
      animation: octocat-wave 560ms ease-in-out
    }

    @keyframes octocat-wave {
      0%,
      100% {
        transform: rotate(0)
      }
      20%,
      60% {
        transform: rotate(-25deg)
      }
      40%,
      80% {
        transform: rotate(10deg)
      }
    }

    @media (max-width:500px) {
      .github-corner:hover .octo-arm {
        animation: none
      }
      .github-corner .octo-arm {
        animation: octocat-wave 560ms ease-in-out
      }
    }
  </style>

  <div id="topbox">
    <h1 style="text-align:center">MapHacks</h1>
    <!--<h2>Want updates?</h2>
    <h4>Enter a location you'd like to visit and your email. We'll send you more information about the event.</h4>
    <div id="locationField">
      <label for= "email">Your Email Address:</label>
      <input id="email" placeholder="Enter your email"></input>
      <br/>
      <label for= "autocomplete">Your Next Destination:</label>
      <input id="autocomplete" placeholder="Enter a location on the map" type="text"></input>
      <button type="button" onclick="fillInAddress()">Submit</button>
    </div>
  -->

    <p id="confirm"> <br/>Thanks! It will take a few minutes to display your dot! </p>
    <h2>What is a Hackathon?</h2>
    <h4>Hacking is creative problem solving. A hackathon is an event where people come together, form teams and work towards solving problems. MapHacks is geography themed, which means projects should explore location, distance, space, spatial patterns, spatial interactions, scale, or nature and society.<h4>
    <h4>We want you to try something new. Try mapping
      <a href="http://www.ibesora.me/time-to-animations-in-qgis/" target = "_blank" >driving times</a>,
      query data from <a href="https://overpass-turbo.eu/" target = "_blank">OpenStreetMap</a>,
      or download an <a href="https://export.hotosm.org/en/v3/exports/new/describe" target = "_blank" >entire place</a>.
      Visualize data with <a href="https://www.qgis.org/en/site/" target = "_blank" >QGIS</a>,
      or <a href="https://www.mapbox.com/" target = "_blank" >Mapbox</a>,
      or <a href="https://carto.com/" target = "_blank" >Carto</a>,
      or <a href="https://www.tableau.com/" target = "_blank">Tableau</a>.
    </h4>
    <h4>
      <a href="https://twitter.com/tierneyl/status/964560078442463232" target = "_blank" >Tell a story</a>,
      let us <a href="https://tjukanov.org/europe3d/" target = "_blank" >interact with it</a>,
      or <a href="https://aporee.org/maps/" target = "_blank" >listen to it</a>.
    </h4>
    <h4>We'll offer workshops the day of. If you like to teach something, reach out to us.</h4>
    <h2>Who is the hackathon open to?<h2>
    <h4>Our priority registration will be open to current Geography and HCDE undergradaute students, followed by all UW undergradaute students.</h4>

    <h2>Where will it be?</h2>
    <div>
      <h4>University of Washington's Denny Hall Room 303. <button type="button" onclick="goToDenny()">Show Me Where</button>
      </h4>
    </div>
    <h2>Will there be prizes?</h2>
    <h4>Yes! We will have prizes for first, second, and third place teams.</h4>
    <h1>Registration</h1>
    <p>Registration is open to all UW students, and will close Friday at midnight.</p>
    <form>
      <button formaction="https://goo.gl/forms/pSjQzgoBAzFQuvT52">Register Here</button>
    </form>
    <h2>What to bring?</h2>
    <p>A laptop and chargers. <a href="https://www.lib.washington.edu/ougl/learning-spaces/macbook"> Laptops can be rented from the UW Libraries before the event.</a></p>
    <p>We also highly recommend you <a href="https://qgis.org/en/site/">install QGIS.</a></p>
    <h2 id="when">When?</h2>
    <h4>Workshops and hacking on April 28th, project presentations April 29th.</h4>
    <h4>April 28th</h4>
    <p>9:30 am - Doors Open</p>
    <p>10:00 am - Introduction</p>
    <p>10:30 am - Group Formation</p>
    <p>11:00 am - Intro to QGIS and Accessing Data</p>
    <p>1:00 pm - Lunch is Served</p>
    <p>3:00 pm - Snacks </p>
    <p>6:00 pm - Doors Closed </p>
    <h4>April 29th</h4>
    <p>10:00 am - Doors Open </p>
    <p>10:30 am - Presentations Begin </p>
    <p>11:30 am - Prizes Awarded </p>
    <p>12:00 pm - Doors Close </p>
    <h2 id="rules">Rules and Judging Criteria</h2>
    <h3>Learning</h3>
    <ol>
      <li>MapHacks hopes to promote a learning and positive atmosphere, while there are prizes please do not be overly competitive.</li>
      <li>Please respect your fellow event attendees. We will not tolerate any discrimination or harassment whether it be directly or through your projects. </li>
    </ol>
    <h3>Teams</h3>
    <p>We will have a team forming time for those who do not already have groups.</p>
    <ol>
      <li>Please limit your team sizes to 4 individuals (groups of size 1, 2, or 3 are fine). </li>
      <li>All individuals must be present at the event. Leaving to hack in another space, or not being at the event for the entire duration is fine.</li>
      <li>All teammates must be present for the judging on Sunday.</li>
    </ol>
    <h3>Projects</h3>
    <ol>
      <li>Work on projects must not begin before 9 am on Saturday. Skeleton or starter frameworks provided by tutorials are ok, but they must be reasonably accessible to anyone. If you have any questions please contact us. </li>
      <li>Teams can use ideas they had before the event, or use ideas that have already been done or are inspired from another source. Please credit your sources and inspirations where appropriate. </li>
      <li>Teams can use any software or frameworks they would like to use, but please document the tools you used for your project. </li>
      <li>Final projects must be submitted to <a href="https://github.com/maphacks">Github</a>. Mentors/volunteers can help with this. </li>
    </ol>
    <h3>Judging Criteria</h3>
    <ol>
      <li>Cartography and Design - How well does your presentation convey its ideas? (out of 5)</li>
      <li>Urban Issues - To what extent is an urban topic being addressed? (out of 5)</li>
      <li>Learning - Where did your team start? What did you learn along the way? Do you think you can go even further if there were more time? (out of 5)</li>
      <li>Implementation - How far did the team implement the project to? (out of 5)</li>
    </ol>
    <h2>Resources</h2>
    <h3><a href=https://goo.gl/5CnwZ6>Google Drive Folder</a></h3>
    <h2>Partners</h2>
    <img src="https://geography.washington.edu/sites/geography/files/geography-wordmark-white.png" />
    <img style="height:100px" src="https://www.hcde.washington.edu/files/logos/HCDE-signature-stacked-white.png" />
    <a href="http://www.critigen.com/">
		<img style="height:80px; margin-top:20px;" src="https://maphacks.github.io/critigen_logo.jpg" />
	</a>
    <div id="bottom">
      <p>Contact: akadouri at uw.edu</p>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script>
    var placeSearch, autocomplete;

    function initAutocomplete() {
      // Create the autocomplete object, restricting the search to geographical
      // location types.
      autocomplete = new google.maps.places.Autocomplete(
        /** @type {!HTMLInputElement} */
        (document.getElementById('autocomplete')), {
          types: ['geocode']
        });

      // When the user selects an address from the dropdown, populate the address
      // fields in the form.
      //autocomplete.addListener('place_changed', fillInAddress);
    }

    function fillInAddress() {
      // Get the place details from the autocomplete object.
      var place = autocomplete.getPlace();
      if (place == null) {
        alert('Please select a place from the autocomplete.')
      }
      console.log(place.geometry.location.lat() + "," + place.geometry.location.lng());
      var sec = new Date().getTime();
      var data1 = {
        "type": "Feature",
        "geometry": {
          "type": "Point",
          "coordinates": [
            place.geometry.location.lng(),
            place.geometry.location.lat()
          ]
        },
        "properties": {
          "email": $('#email').val()
        }
      };
      data1 = JSON.stringify(data1);
      console.log(data1);
      $.ajax({
        type: "POST",
        url: "https://41utvk47u0.execute-api.us-east-1.amazonaws.com/prod/send-data",
        contentType: "text/plain",
        data: data1,
        success: function(d) {
          $('#confirm').show();
          console.log("success");
        },
        error: function(e) {
          console.log("fail");
        }
      });
    }

    mapboxgl.accessToken = 'pk.eyJ1IjoiYWthZG91cmkiLCJhIjoiY2l6cmNpc3AwMDAzNjJ3bjIyMGFscDlnMiJ9.-e65hQu9KeEX-PbVJBsqdQ'
    var map = new mapboxgl.Map({
      container: 'map', // container id
      style: 'mapbox://styles/akadouri/cj9noafe93ofe2rljvxqyfq6b', // stylesheet location
      center: [-30, 30], // starting position [lng, lat]
      zoom: 2 // starting zoom
    });

    map.scrollZoom.disable();

    var url = 'https://41utvk47u0.execute-api.us-east-1.amazonaws.com/prod/get-data';


    map.on('load', function() {
      /* window.setInterval(function() {
         map.getSource('pts').setData(url);
       }, 2000); */

      map.addSource('pts', {
        type: 'geojson',
        data: url
      });
      map.addLayer({
        "id": "pts",
        "type": "circle",
        "source": "pts",
        "paint": {
          "circle-color": "#cf87ff"
        }
      });
      map.addLayer({
        "id": "denny",
        "type": "symbol",
        "source": {
          "type": "geojson",
          "data": {
            "type": "FeatureCollection",
            "features": [{
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [-122.30895102024077,
                  47.65843963978776
                ]
              },
              "properties": {
                "title": "Hack Over Here"
              }
            }]
          }
        },
        "layout": {
          "text-font": ["Arial Unicode MS Bold"],
          "text-field": "{title}",
        },
        "paint": {
          "text-color": "#ffffff"
        }
      });
    });

    function goToDenny() {
      map.flyTo({
        center: [-122.3095,
          47.6587251
        ],
        zoom: 18
      });
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCrNGYMbUj5UeP5jASa2SnvcDZKDOgFN9k&libraries=places&callback=initAutocomplete" async defer></script>
</body>

</html>
